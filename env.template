# === Telegram Bot Configuration ===
TELEGRAM_TOKEN=7942901226:AAEvyakUM4kK-rzOhDzAkZxQcZpO1RiE2UQ
TELEGRAM_CHAT_ID=-1003291954761

# Command Control (for /alpha_add, /alpha_list, etc.)
# COMMAND_CHAT_ID = your private DM chat ID or group chat ID
# ADMIN_USER_ID = your Telegram user ID (only you can issue commands)
# Get these by DMing bot "hi" then visit: https://api.telegram.org/bot<TOKEN>/getUpdates
COMMAND_CHAT_ID=your_command_chat_id_here
ADMIN_USER_ID=your_telegram_user_id_here

# === Trading Mode ===
# paper = simulation mode (no real transactions, no wallet key needed)
# live = real trading mode (requires WALLET_PRIVATE_KEY)
TRADE_MODE=paper

# === Solana RPC & Wallet ===
# Use a premium RPC for better performance (Helius, QuickNode, Triton)
# Helius: https://mainnet.helius-rpc.com/?api-key=YOUR_KEY (get free key at https://helius.dev)
# QuickNode: https://YOUR_ENDPOINT.solana-mainnet.quiknode.pro/YOUR_KEY
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# Helius API Key (optional - enables Helius-specific optimizations)
# Get free API key: https://helius.dev
# Free tier: 100 req/s, 100k requests/month
HELIUS_API_KEY=

# Birdeye API Key (optional - secondary intelligence layer for alpha detection)
# Get API key: https://birdeye.so (or check their docs for API access)
# Used for: startup backfill, BUY signal validation, price/liquidity fallback
BIRDEYE_API_KEY=

# Your wallet private key in base58 format (ONLY needed for live mode)
# Get from Phantom: Settings → Export Private Key
WALLET_PRIVATE_KEY=your_base58_private_key_here

# === Alpha Wallets (Legacy - for backward compatibility) ===
# The wallet address you want to copy trades from
# NOTE: For dynamic alpha management, use /alpha_add command instead
# This will be auto-added to active alphas on bot start if registry is empty
ALPHA_WALLET=your_alpha_wallet_address_here

# === Trade Size ===
BUY_SOL=0.01              # Amount of SOL to spend per trade
EARLY_TP_PCT=0.3          # 30% early take-profit target
TRAIL_STOP_PCT=0.2        # 20% trailing stop loss
PARTIAL_TP_PCT=0          # 0=disabled, 0.5=sell 50% at Early TP, 1=sell 100%

# === Priority fee (Jito-lite) ===
CU_UNIT_PRICE_MICROLAMPORTS=5000    # Price per compute unit in microLamports (tune 2k–10k)
CU_LIMIT=800000                     # Upper bound on compute units
JITO_PRIORITY_FEE_MULTIPLIER=1.0    # Multiplier for competitive trades (1.0-2.0)
MAX_PRIORITY_FEE_LAMPORTS=50000000  # Maximum total priority fee (0.05 SOL default)

# === Jito Bundles (Optional - Advanced) ===
# Jito bundles provide MEV protection and guaranteed transaction inclusion
# Requires @jito-foundation/sdk (install: npm install @jito-foundation/sdk)
ENABLE_JITO_BUNDLES=false           # Enable Jito bundle submission
JITO_TIP_ACCOUNT=96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5  # Jito tip distribution account
JITO_TIP_AMOUNT_LAMPORTS=10000      # Tip amount (0.00001 SOL default)
JITO_BUNDLE_SIZE=3                  # Number of transactions in bundle (1-5)

# === Rug/safety ===
REQUIRE_AUTHORITY_REVOKED=true      # Require mint/freeze authority revoked
MAX_TAX_BPS=500                     # 5% max tax (rough heuristic)
MAX_PRICE_IMPACT_BPS=3000           # 30% max price impact for buy size
SENTRY_WINDOW_SEC=120               # Monitor for 2 minutes after entry
SENTRY_MAX_DRAWDOWN_PCT=0.22        # Exit if -22% from entry during sentry

# === Debug / Diagnostics ===
# Enable extra logging to explain why a tx did NOT produce a signal/buy
DEBUG_TX=false
# Also echo debug logs into the Telegram command chat
DEBUG_TO_TELEGRAM=false

# === Networking hardening ===
# Optional: override Jupiter base (keeps fallback list too)
# JUP_QUOTE_BASE=https://lite-api.jup.ag/swap/v1/quote
# JUP_SWAP_BASE=https://lite-api.jup.ag/swap/v1/swap
# Optional: comma-separated DNS servers used by Node (overrides system DNS)
# DNS_OVERRIDE=1.1.1.1,1.0.0.1,8.8.8.8,8.8.4.4

# === Monitoring & Heartbeat ===
HEARTBEAT_EVERY_MIN=20        # how often to send heartbeat (increased for rate limit safety)
SILENT_ALERT_MIN=60           # alert if no signals for this long
PULSE_MAX_ROWS=3              # how many recent events to include (reduced for rate limit safety)

# === Watchlist: Monitor Illiquid Tokens ===
# Instead of fully skipping illiquid tokens, monitor them until they become liquid.
# Auto-buys when liquidity threshold is met (catches tokens that launch later)
ENABLE_WATCHLIST=true
WATCHLIST_CHECK_INTERVAL_MS=30000       # Check liquidity every 30 seconds
WATCHLIST_MAX_AGE_MS=259200000          # Monitor up to 3 days (259,200,000 ms)
WATCHLIST_MIN_LIQUIDITY_USD=4000        # Auto-buy once liquidity meets this threshold

# === Dynamic Position Sizing ===
BUY_SOL=0.01                            # Base position size (SOL)
MIN_BUY_SOL=0.005                       # Never go below this size
MAX_BUY_SOL=0.05                        # Hard cap per trade

# === DEX fallbacks ===
ENABLE_ORCA_FALLBACK=false              # Try Orca after Jupiter failure
ENABLE_RAYDIUM_FALLBACK=false           # Try Raydium after Orca failure

# === Alpha Signal Discipline ===
DUST_SOL_SPENT=0.001                    # Require alpha to spend ≥0.001 SOL
MIN_ALPHA_TOKEN_BALANCE=0.000001        # Alpha must hold at least this post-buy
MIN_SIZE_INCREASE_RATIO=0.25            # Existing positions must size up ≥25%
MAX_SIGNAL_AGE_SEC=60                   # Skip signals older than 60 seconds
MAX_ALPHA_ENTRY_MULTIPLIER=2            # Bot entry ≤ 2x alpha entry price
MIN_LIQUIDITY_USD=10000                 # Guard: require ≥$10k liquidity before copying
